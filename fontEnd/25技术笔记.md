###04/25技术笔记

## 说一下http2.0

### 参考回答：

首先补充一下，http和https的区别，相比于http,https是基于ssl加密的http协议

简要概括：http2.0是基于1999年发布的http1.0之后的首次更新。

提升访问速度（可以对于，请求资源所需时间更少，访问速度更快，相比http1.0）

允许多路复用：多路复用允许同时通过单一的HTTP/2连接发送多重请求-响应信息。改善了：在http1.1中，浏览器客户端在同一时间，针对同一域名下的请求有一定数量限制（连接数量），超过限制会被阻塞。

二进制分帧：HTTP2.0会将所有的传输信息分割为更小的信息或者帧，并对他们进行二进制编码

首部压缩

服务器端推送

## ● 补充400和401、403状态码

### 参考回答：

(1)400状态码：请求无效

产生原因：

前端提交数据的字段名称和字段类型与后台的实体没有保持一致

前端提交到后台的数据应该是json字符串类型，但是前端没有将对象JSON.stringify转化成字符串。

解决方法：

对照字段的名称，保持一致性

将obj对象通过JSON.stringify实现序列化

(2)401状态码：当前请求需要用户验证

(3)403状态码：服务器已经得到请求，但是拒绝执行

## ● Cookie、sessionStorage、localStorage的区别

### 参考回答：

共同点：都是保存在浏览器端，并且是同源的

Cookie：cookie数据始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递。而sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。cookie数据还有路径（path）的概念，可以限制cookie只属于某个路径下,存储的大小很小只有4K左右。 （key：可以在浏览器和服务器端来回传递，存储容量小，只有大约4K左右）

sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持，localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；cookie只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。（key：本身就是一个回话过程，关闭浏览器后消失，session为一个回话，当页面不同即使是同一页面打开两次，也被视为同一次回话）

localStorage：localStorage 在所有同源窗口中都是共享的；cookie也是在所有同源窗口中都是共享的。（key：同源窗口都会共享，并且不会失效，不管窗口或者浏览器关闭与否都会始终生效）

# 强缓存和协商缓存的区别

### 强缓存

1. 直接使用本地的缓存，不和浏览器通信

2. 相关header字段：

   expires：一个未来时间，代表请求有效期，没有过期之前都使用当前请求。

   **cache-control,**优先级高于 expires。

3. F5 刷新后无效，Ctrl + F5 强制刷新后无效

4. *强制缓存如何重新加载缓存过的资源？*

   > 更新页面中引用的资源路径，让浏览器主动放弃缓存，加载新资源

### 协商缓存

1. 将资源一些相关信息返回服务器，让服务器判断浏览器是否能直接使用本地缓存，整个过程至少与服务器通信一次

2. 相关header字段：

   Last-Modified/If-Modified-Since

3. 过程：

   1. 浏览器第一次发请求，服务器在返回的 respone 的 header 加上 Last-Modified，表示资源的最后修改时间

   2. 再次请求资源，在 requset 的 header 加上 If-Modified-Since ，值就是上一次请求返回的 Last-Modified 值

   3. 服务器根据请求传过来的值判断资源是否有变化，没有则返回 304，有变化就正常返回资源内容，更新 Last-Modified 的值

   4. 304 从缓存加载资源，否则直接从服务器加载资源

   5. 优点：

      有些文件可能会周期性更改，但内容并没有修改时，用 Etag 就不用重新拉取；

      1S 内修改的文件也会检测到；

      优先级高于 Last-Modified。

   6. 为什么协商缓存有两个属性一起出现？

      协商缓存是浏览器判断资源是否可用，所以需要两个标识，第一个是第一次请求的响应头带上某个字段（Last-Modified或者Etag），第二个则是后续请求带上的对应请求字段（If-Modified-Since或者If-None-Match），两个标识一起出现才有意义，单独则没有什么效果。

   7. F5 刷新后依然有效，Ctrl + F5 强制刷新后无效

   ## ● 对HTML语义化标签的理解

   ### 参考回答：

   HTML5语义化标签是指正确的标签包含了正确的内容，结构良好，便于阅读，比如nav表示导航条，类似的还有article、header、footer等等标签。

   ## ● iframe是什么？有什么缺点？

   ### 参考回答：

   定义：iframe元素会创建包含另一个文档的内联框架

   提示：可以将提示文字放在<iframe></iframe>之间，来提示某些不支持iframe的浏览器

   缺点：

   会阻塞主页面的onload事件

   搜索引擎无法解读这种页面，不利于SEO

   iframe和主页面共享连接池，而浏览器对相同区域有限制所以会影响性能。

   ## ● Doctype作用?严格模式与混杂模式如何区分？它们有何意义?

   ### 参考回答：

   Doctype声明于文档最前面，告诉浏览器以何种方式来渲染页面，这里有两种模式，严格模式和混杂模式。

   严格模式的排版和JS 运作模式是 以该浏览器支持的最高标准运行。

   混杂模式，向后兼容，模拟老式浏览器，防止浏览器无法兼容页面。

   ## ● Cookie如何防范XSS攻击

   ### 参考回答：

   XSS（跨站脚本攻击）是指攻击者在返回的HTML中嵌入javascript脚本，为了减轻这些攻击，需要在HTTP头部配上，set-cookie：

   httponly-这个属性可以防止XSS,它会禁止javascript脚本来访问cookie。

   secure - 这个属性告诉浏览器仅在请求为https的时候发送cookie。

   结果应该是这样的：Set-Cookie=<cookie-value>.....

   ## ● Cookie和session的区别

   ### 参考回答：

   HTTP是一个无状态协议，因此Cookie的最大的作用就是存储sessionId用来唯一标识用户

   ## ● 一句话概括RESTFUL

   ### 参考回答：

   就是用URL定位资源，用HTTP描述操作

   ## ● addEventListener参数

   ### 参考回答：

   addEventListener(event, function, useCapture)

   其中，event指定事件名；function指定要事件触发时执行的函数；useCapture指定事件是否在捕获或冒泡阶段执行。